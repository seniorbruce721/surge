[General]
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local
exclude-simple-hostnames = true
internet-test-url = http://taobao.com/
proxy-test-url = http://www.apple.com/
test-timeout = 2
dns-server = 223.5.5.5, 114.114.114.114
# encrypted-dns-server = https://223.5.5.5/ // 除非当地 ISP 有严重的 DNS 污染问题，否则没必要开启 DoH，传统 DNS 的性能最优，网络异常后恢复速度最快
wifi-assist = false
ipv6 = false
allow-wifi-access = false

[Proxy]
# > 别名策略+代理
𝗗𝗜𝗥𝗘𝗖𝗧 = direct
WARP = wireguard, section-name=Cloudflare, test-url=http://cp.cloudflare.com/generate_204

[Proxy Group]
# > 自定义策略
# 代理选择
𝗣𝗥𝗢𝗫𝗬 = select, 𝗔𝗨𝗧𝗢 ✰, 𝗛𝗼𝗻𝗴 𝗞𝗼𝗻𝗴, 𝗧𝗮𝗶𝘄𝗮𝗻, 𝗦𝗶𝗻𝗴𝗮𝗽𝗼𝗿𝗲, 𝗝𝗮𝗽𝗮𝗻, 𝗨𝗻𝗶𝘁𝗲𝗱 𝗦𝘁𝗮𝘁𝗲𝘀, 𝗞𝗼𝗿𝗲𝗮, 𝗢𝘁𝗵𝗲𝗿, Outbound, WARP, no-alert=0, hidden=0, include-all-proxies=0
𝗧𝗲𝗹𝗲𝗴𝗿𝗮𝗺 = select, 𝗧𝗮𝗶𝘄𝗮𝗻, 𝗦𝗶𝗻𝗴𝗮𝗽𝗼𝗿𝗲, 𝗨𝗻𝗶𝘁𝗲𝗱 𝗦𝘁𝗮𝘁𝗲𝘀, WARP, no-alert=0, hidden=0, include-all-proxies=0
# 备用线路
𝗦𝘁𝗿𝗲𝗮𝗺𝗶𝗻𝗴 = select, include-other-group="𝗦𝗶𝗻𝗴𝗮𝗽𝗼𝗿𝗲, 𝗛𝗼𝗻𝗴 𝗞𝗼𝗻𝗴, 𝗧𝗮𝗶𝘄𝗮𝗻", update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
# 延迟选择
𝗦𝗽𝗲𝗲𝗱𝘁𝗲𝘀𝘁 = select, WARP, include-other-group="𝗛𝗼𝗻𝗴 𝗞𝗼𝗻𝗴, 𝗧𝗮𝗶𝘄𝗮𝗻, 𝗦𝗶𝗻𝗴𝗮𝗽𝗼𝗿𝗲, 𝗝𝗮𝗽𝗮𝗻, 𝗨𝗻𝗶𝘁𝗲𝗱 𝗦𝘁𝗮𝘁𝗲𝘀, 𝗞𝗼𝗿𝗲𝗮, 𝗢𝘁𝗵𝗲𝗿", update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
# 香港
Outbound = select, update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0, policy-path=
# 台湾
𝗔𝗽𝗽𝗹𝗲 = select, 𝗗𝗜𝗥𝗘𝗖𝗧, 𝗣𝗥𝗢𝗫𝗬, no-alert=0, hidden=0, include-all-proxies=0
# 新加坡
𝗔𝗨𝗧𝗢 ✰ = url-test, include-other-group="𝗛𝗼𝗻𝗴 𝗞𝗼𝗻𝗴, 𝗦𝗶𝗻𝗴𝗮𝗽𝗼𝗿𝗲", update-interval=43200, no-alert=0, hidden=1, include-all-proxies=1
# 日本
𝗛𝗼𝗻𝗴 𝗞𝗼𝗻𝗴 = fallback, policy-regex-filter=港|HK|Hong|hk|🇭🇰, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
# 德国
𝗧𝗮𝗶𝘄𝗮𝗻 = fallback, policy-regex-filter=湾|TW|Taiwan|tw, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
# 美国
𝗦𝗶𝗻𝗴𝗮𝗽𝗼𝗿𝗲 = fallback, policy-regex-filter=坡|SG|🇸🇬|Singapore, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
# 韩国
𝗝𝗮𝗽𝗮𝗻 = fallback, policy-regex-filter=日|JP|Japan|🇯🇵, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
# 其它
𝗨𝗻𝗶𝘁𝗲𝗱 𝗦𝘁𝗮𝘁𝗲𝘀 = fallback, policy-regex-filter=美|US|🇺🇸, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
# 流媒体
𝗞𝗼𝗿𝗲𝗮 = fallback, policy-regex-filter=韩国, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
# Speedtest
𝗢𝘁𝗵𝗲𝗿 = select, policy-regex-filter=^((?!港|HK|Hong|hk|🇭🇰 |湾|TW|Taiwan|tw |坡|SG|🇸🇬|Singapore|日|JP|Japan|🇯🇵|美|US|🇺🇸 ).)*$, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
# 哔哩哔哩
# YouTube
# Spotify
# Telegram
# 苹果服务

[Rule]
# 广告拦截
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,REJECT-TINYGIF
# Apple
DOMAIN-SUFFIX,store.apple.com,𝗗𝗜𝗥𝗘𝗖𝗧
DOMAIN,xp.apple.com,𝗣𝗥𝗢𝗫𝗬 // iOS & macOS System Upgrade
RULE-SET,SYSTEM,𝗗𝗜𝗥𝗘𝗖𝗧
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/apple.list,𝗣𝗥𝗢𝗫𝗬
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/blocked.list,𝗣𝗥𝗢𝗫𝗬
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/cn.list,DIRECT
DOMAIN-SUFFIX,cn,DIRECT
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/netflix.list,𝗦𝘁𝗿𝗲𝗮𝗺𝗶𝗻𝗴
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/DisneyPlus.list,𝗦𝘁𝗿𝗲𝗮𝗺𝗶𝗻𝗴
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/YouTube.list,𝗦𝘁𝗿𝗲𝗮𝗺𝗶𝗻𝗴
# Telegram
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/telegram.list,𝗧𝗲𝗹𝗲𝗴𝗿𝗮𝗺
# 以下规则将触发本地 DNS 解析
RULE-SET,LAN,DIRECT
GEOIP,CN,DIRECT
FINAL,𝗣𝗥𝗢𝗫𝗬,dns-failed

[MITM]
skip-server-cert-verify = true
tcp-connection = true
ca-passphrase = 39F3DD1A
ca-p12 =
[WireGuard Cloudflare]
private-key = 2AjWb9TGbCPWWHF2i8/65kCG/ZOJaFX5vvEjuNOX+U4=
self-ip = 172.16.0.2
self-ip-v6 = 2606:4700:110:8233:8079:cef3:3209:a3cf
dns-server = 162.159.36.1, 64.6.64.6, 2001:4860:4860::8888
mtu = 1350
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::0/0", endpoint = engage.nanocat.me:2408, keepalive = 30)

