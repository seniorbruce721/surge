[General]
# é€šç”¨è®¾ç½®

# > å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†
# (åœ¨ Wi-Fi ç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿æ¥ï¼Œè¯·ä»…å½“ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡æ—¶å¼€å¯)
wifi-assist = false

# > Internet æµ‹è¯• URL
internet-test-url = http://taobao.com/
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.apple.com/
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 2

# > å…è®¸ Wi-Fi è®¿é—® (ä»… iOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œfalseã€æ”¹ä¸ºã€Œtrueã€)
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# > å…è®¸ Wi-Fi è®¿é—® (ä»… macOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œ127.0.0.1ã€æ”¹ä¸ºã€Œ0.0.0.0ã€)
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153

# > è·³è¿‡ä»£ç†
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local
# > æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true

# > Network framwork
network-framework = false

# > DNS æœåŠ¡å™¨ (å¦‚æ— å¿…è¦ä¸å»ºè®®ä½¿ç”¨ DNS over HTTPS)
dns-server = 223.5.5.5, 114.114.114.114
# > ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true

# é«˜çº§è®¾ç½®

# > æ—¥å¿—çº§åˆ«
loglevel = notify

# > å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true

# > Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com

# > VIF Excluded Routes
tun-excluded-routes = 239.255.255.250/32

# å¦‚æœæ²¡æœ‰ä»£ç†æœåŠ¡å™¨æ”¯æŒ UDP è½¬å‘ï¼Œå¯ä¿®æ”¹ä¸ºã€Œ direct ã€æˆ–æ³¨é‡Šä¸‹æ¡ï¼Œä½†éœ€æ³¨æ„åŒä¸€ç›®æ ‡ä¸»æœºå TCP è¯·æ±‚ä¸ UDP è¯·æ±‚çš„æºåœ°å€ä¸åŒæ‰€é€ æˆçš„éšç§åŠå®‰å…¨é£é™©ã€‚
udp-policy-not-supported-behaviour = reject

[Replica]
# 0 ä¸ºå…³é—­ï¼Œ1 ä¸ºå¼€å¯
# > éšè— Apple è¯·æ±‚
hide-apple-request = 0
# > éšè—å´©æºƒè¿½è¸ªå™¨è¯·æ±‚
hide-crash-reporter-request = 1
# > éšè— UDP ä¼šè¯
hide-udp = 0
# > å…³é”®è¯è¿‡æ»¤å™¨
# noneï¼ˆå…³é—­å…³é”®è¯è¿‡æ»¤å™¨ï¼‰ / whitelistï¼ˆblacklistï¼ˆä»…è®°å½•åŒ…å«å…³é”®å­—çš„è¯·æ±‚ï¼‰ï¼‰ / blacklistï¼ˆä»…è®°å½•ä¸åŒ…å«å…³é”®å­—çš„è¯·æ±‚ï¼‰ / patternï¼ˆåŒ¹é…é€šé…ç¬¦çš„è¯·æ±‚ï¼‰
# keyword-filter-type = none
# > å…³é”®è¯
# keyword-filter = (null)

[Proxy]
Direct = direct
Reject = reject

[Proxy Group]
Proxy = select, AUTO âœ°,Hong Kong , Taiwan, Singapore, Japan, United States, Other, Outbound, no-alert=0, hidden=0, include-all-proxies=0
Telegram = select, Singapore, United States, no-alert=0, hidden=0, include-all-proxies=0
Streaming = select, include-other-group="Singapore, Hong Kong, Taiwan", update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
StreamingSE = select, Direct
Guard = select, Reject, Direct
Speedtest = select, WARP, include-other-group="Hong Kong, Taiwan, Singapore, Japan, United States, Other", update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
Outbound = select, update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0, policy-path=https://api.prprcloud.life/node-list/6605/3rDRpfqqnQ/
Apple = select, ğ——ğ—œğ—¥ğ—˜ğ—–ğ—§, ğ—£ğ—¥ğ—¢ğ—«ğ—¬, no-alert=0, hidden=0, include-all-proxies=0
AUTO âœ° = url-test, include-other-group="Hong Kong, Singapore", update-interval=43200, no-alert=0, hidden=1, include-all-proxies=1
Hong Kong = fallback, policy-regex-filter=æ¸¯|HK|Hong|hk|ğŸ‡­ğŸ‡°, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
Taiwan = fallback, policy-regex-filter=æ¹¾|TW|Taiwan|tw, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
Singapore = fallback, policy-regex-filter=å¡|SG|ğŸ‡¸ğŸ‡¬|Singapore, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
Japan = fallback, policy-regex-filter=æ—¥|JP|Japan|ğŸ‡¯ğŸ‡µ, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
United States = fallback, policy-regex-filter=ç¾|US|ğŸ‡ºğŸ‡¸, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound
Other = select, policy-regex-filter=^((?!æ¸¯|HK|Hong|hk|ğŸ‡­ğŸ‡° |æ¹¾|TW|Taiwan|tw |å¡|SG|ğŸ‡¸ğŸ‡¬|Singapore|æ—¥|JP|Japan|ğŸ‡¯ğŸ‡µ|ç¾|US|ğŸ‡ºğŸ‡¸ ).)*$, update-interval=43200, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=Outbound

[Rule]
# Unbreak åç»­è§„åˆ™ä¿®æ­£
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,Direct

# Advertising å¹¿å‘Š
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,Guard
DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list,Guard

# Privacy éšç§
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,Guard

# Hijacking è¿è¥å•†åŠ«æŒæˆ–æ¶æ„ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,ğŸ›¡Guard

RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/blocked.list,Proxy
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/cn.list,Direct
DOMAIN-SUFFIX,cn,Direct
DOMAIN,apps.apple.com,Proxy
DOMAIN-SUFFIX,ls.apple.com,Direct // Apple Maps
DOMAIN-SUFFIX,store.apple.com,Direct // Apple Store Online
RULE-SET,SYSTEM,Proxy
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/apple.list,Proxy

# Disney+
 RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/DisneyPlus.list,Streaming
# Netflix
 RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/Netflix.list,Streaming
# YouTube
 RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/YouTube.list,Streaming
# HBO go
 RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HBOAsia/HBOAsia.list,Streaming

# Streaming å›½é™…æµåª’ä½“æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,Streaming

# StreamingSE ä¸­å›½æµåª’ä½“æœåŠ¡ï¼ˆé¢å‘æµ·å¤–ç‰ˆæœ¬ï¼‰
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingSE.list,StreamingSE

# Telegram
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Telegram/Telegram.list,Proxy

# ä»¥ä¸‹è§„åˆ™å°†è§¦å‘æœ¬åœ° DNS è§£æ
RULE-SET,LAN,Direct
GEOIP,CN,Direct
FINAL,Proxy,dns-failed

[MITM]
# > VIF å¯¹åŸå§‹ TCP æµé‡è¿›è¡Œè§£å¯†
tcp-connection = true
# > MITM ä½¿ç”¨ HTTP/2 åè®®
h2 = true
# > CA è¯ä¹¦
ca-keystore-name = CA

